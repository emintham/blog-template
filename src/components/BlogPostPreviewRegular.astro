---
// src/components/BlogPostPreviewRegular.astro
import PostMeta from "./PostMeta.astro"; // Import the new component
import { extractPreviewContent } from "../../src/utils/content"; // Import the utility function
const { post } = Astro.props;

const contentToDisplay = extractPreviewContent(post);
---

<article class="post-preview">
  <h2 class="preview-title"><a href={`/blog/${post.slug}/`}>{post.data.title}</a></h2>
  <PostMeta pubDate={post.data.pubDate} author={post.data.author} />
  <div class="preview-content preview-text-content">
    <Fragment set:html={contentToDisplay} />
  </div>
  <a href={`/blog/${post.slug}/`} class="read-more">Read More &rarr;</a>
</article>

<style>
  /* Styles for REGULAR post previews */
  /* .post-preview, .post-preview:last-child, .meta, .read-more, .read-more:hover, 
     .preview-title, .preview-title a, .preview-title a:hover, 
     .preview-text-content p, .preview-text-content p:last-child are now in global.css */

  .post-preview .preview-title { /* h2 */
    font-size: 1.9rem;
    margin-bottom: 0.35rem;
  }

  .preview-content { /* This specific class is still used for margin */
    margin-bottom: 1rem; 
    /* font-size and line-height for p tags are in .preview-text-content p */
  }

  .read-more { /* Specific margin for this component */
    margin-top: 1.2rem;
  }

  /* --- Mobile Adjustments for Regular Posts --- */
  @media (max-width: 768px) {
    .post-preview .preview-title { /* h2 */
      font-size: 1.6rem;
    }
    /* Add any other mobile specific styles for regular previews if needed */
  }

  @media (max-width: 480px) {
    .post-preview .preview-title { /* h2 */
      font-size: 1.4rem;
    }
    /* Add any other mobile specific styles for regular previews if needed */
  }
</style>
