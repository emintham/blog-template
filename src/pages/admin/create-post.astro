---
// src/pages/admin/create-post.astro
import BaseLayout from '../../layouts/BaseLayout.astro';
import PostForm from '../../components/admin/PostForm.tsx';
import { SITE_TITLE } from '../../siteConfig';

if (import.meta.env.PROD) {
  return new Response(null, { status: 404, statusText: 'Not Found' });
}
export const prerender = false;

const pageTitle = `Create New Post (DEV) - ${SITE_TITLE}`;
---

<BaseLayout title={pageTitle}>
  <div class="page-detail-header" style="margin-bottom: 1.5rem;">
    <h1>Create New Post</h1>
  </div>

  <form id="createPostForm" class="post-form">
    <PostForm client:load key="create-form" /> {/* Added a static key for create form instance stability */}
    <button type="submit" class="button-primary" style="margin-top: 1rem;">Save New Post</button>
  </form>

  {/* Feedback area can still be used for errors or very brief success before redirect */}
  <div id="formFeedback" style="margin-top: 1.5rem; padding: 1rem; border-radius: 4px; display: none;">
    <p id="feedbackMessage"></p>
    {/* viewPostLink is not needed if we redirect to edit page */}
  </div>
</BaseLayout>
