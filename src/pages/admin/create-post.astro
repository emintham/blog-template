---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PostForm from '../../components/admin/PostForm.tsx';
import { SITE_TITLE } from '../../siteConfig';
import '../../styles/admin.css'; // Import admin styles

if (import.meta.env.PROD) {
  return new Response(null, { status: 404, statusText: 'Not Found' });
}
export const prerender = false;

const pageTitle = `Create New Post (DEV) - ${SITE_TITLE}`;
---

<BaseLayout title={pageTitle}>
  <div class="page-detail-header">
    <h1>Create New Post</h1>
  </div>

  <form id="createPostForm" class="post-form" data-form-type="create">
    <PostForm
      client:load
      formId="createPostForm"
    />
    <button type="submit" id="createPostSubmitButton" class="button-primary">Save New Post</button>
  </form>

  <div id="formFeedback" class="form-feedback-container">
    <p id="feedbackMessage"></p>
  </div>

  <script src="/scripts/adminFormHandler.js" is:inline></script>
</BaseLayout>

<style>
  .page-detail-header {
    margin-bottom: 1.5rem;
  }
  .post-form button[type="submit"] {
    margin-top: 1rem;
  }
</style>
